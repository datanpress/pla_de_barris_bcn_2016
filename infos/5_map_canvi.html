<!DOCTYPE html>
<html>
<head>
	<meta http-equiv="content-type" content="text/html; charset=UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no" />
	<title></title>
	<link href="https://fonts.googleapis.com/css?family=Open+Sans:400,400i,600,600i,700,700i" rel="stylesheet">
	<link href="../common/style/common_style.css" rel="stylesheet">
	<style>
	.legend_old{
		border: 1px white solid;
		display: inline-block;
		padding: 0.3em;
		margin: 0.2em 1.5em 0em 1.5em;
		display: table-cell;
		vertical-align: middle;
		background-color: rgba(255,255,255, 0.7);
		padding-bottom:  0.8em;
	}
	</style>
</head>
<body>
	<div id="background1">
		<div id="background2">
			<div id="container" style="max-width: 700px;display:block;text-align:center;width:100%;margin:0 auto;">
				<span style="width:49%;display:inline-block;min-width:250px">
					<span style="color:black;font-weight:bold;">2008</span>
					<div id="map_old" width="100%" padding-bottom:100%;>
					</div>
				</span>
				<span style="width:49%;display:inline-block;min-width:250px">
					<span style="color:black;font-weight:bold;">2014</span>
					<div id="map_new" width="100%" padding-bottom:100%;>
					</div>
				</span>
				<div style="width:70%;margin:0 auto;display: table;">
					<span class="legend_old"></span>
					<br/>
					&nbsp;
				</div>
			</div>
		</div>
	</div>

<script src="../common/js/iframeResizer.contentWindow.min.js"></script>
<script src="../common/js/libs/d3/d3.min.js"></script>
<script src="../common/js/libs/topojson.v1.min.js"></script>
<script src="../common/js/libs/ijs/i.min.js"></script>
<script src="../common/js/utils.js"></script>
<script src="../common/js/map.js"></script>
<script type="text/javascript">
	var tooltip = function(property, barri, hurban_heart){
		var RFD = hurban_heart.get(parseInt(barri))['RFD'];
		var RFD2008 = hurban_heart.get(parseInt(barri))['RFD 2008'];
		return '<span style="font-weight:normal;">2008: '+RFD2008+'</span><br/> 2014: '+RFD
	}
	var tooltip2008 = function(property, barri, hurban_heart){
		var RFD = hurban_heart.get(parseInt(barri))['RFD'];
		var RFD2008 = hurban_heart.get(parseInt(barri))['RFD 2008'];
		return '2008: '+RFD2008+'<br/><span style="font-weight:normal;">2014: '+RFD+'</span>'
	}
	addMap(d3.select("#map_new"), 'RFD 2014', undefined, undefined, function(map) {
		map.putLegend(d3.select('.legend_new'));
		console.log(map.domain)
		addMap(d3.select("#map_old"), 'RFD 2008', undefined, undefined, function(map_old) {
			map.putLegend(d3.select('.legend_old'));
		}, map.domain, tooltip2008);
	}, undefined, tooltip);
</script>
</body>
</html>
